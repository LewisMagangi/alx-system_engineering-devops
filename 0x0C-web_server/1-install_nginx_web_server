#!/usr/bin/env bash
#a Bash script that configures a new Ubuntu machine to respect above requirements (this script will be run on the server itself)

# Install nginx
sudo apt install -y nginx

# Create a temporary file to store the default nginx configuration
temp_config=$(mktemp)

# Write the nginx configuration to the temporary file
cat <<EOF > $temp_config
server {
    listen 80;
    server_name 52.91.137.2;
    location / {
	return 200 "Hello World!\n";
    }
}
EOF

# Replace the default nginx configuration with the custom configuration
sudo mv $temp_config /var/www/html/index.html

# Reload nginx to apply the changes
sudo service nginx reload
